(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=a(6),s=(a(26),a(5)),i=function(){return r.a.createElement(l.b,{className:"button",to:"/people/"},"Download People table")},p=a(19),m=a(20),u=a(9),d=a(32),b=function(e){var t=e.person,a=e.selectedPerson,n=e.setSelectedPerson,c=Object(s.e)(),o=Object(s.f)();return r.a.createElement("tr",{className:d([{"Person--male":"m"===t.sex},{"Person--female":"f"===t.sex},"Person--lived-in-".concat(t.century),"Person",{"Person--selected":a===t.name.toLowerCase()}]),onClick:function(){c.push({pathname:"".concat(t.name.split(" ").join("-").toLowerCase()),search:o.search}),n(t.name.toLowerCase())}},r.a.createElement("td",{className:"PeopleTable__description"},t.id),r.a.createElement("td",{className:d([{"born-before-1650":t.born<1650}])},t.name),r.a.createElement("td",{className:"PeopleTable__description"},t.sex),r.a.createElement("td",{className:"PeopleTable__description"},t.born),r.a.createElement("td",{className:"PeopleTable__description"},t.died),r.a.createElement("td",{className:"PeopleTable__description"},t.mother),r.a.createElement("td",{className:"PeopleTable__description"},t.father),r.a.createElement("td",{className:d([{"lived-for-65-and-more":t.age>=65},"PeopleTable__description"])},t.age),r.a.createElement("td",{className:d(["PeopleTable__description"])},t.century))},f=a(10),h=a.n(f),E=function(e){var t,a;return h.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(fetch(e));case 2:return t=n.sent,n.next=5,h.a.awrap(t.json());case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}})},_=Object(s.h)(function(){var e=Object(s.g)(),t=Object(s.f)(),a=Object(s.e)(),c=new URLSearchParams(t.search),o=Object(n.useState)(void 0!==e.params.person?e.params.person.split("-").join(" "):""),l=Object(u.a)(o,2),i=l[0],d=l[1],f=Object(n.useState)(null!==c.get("query")?c.get("query"):""),h=Object(u.a)(f,2),_=h[0],g=h[1],P=Object(n.useState)([]),j=Object(u.a)(P,2),y=j[0],w=j[1],O=Object(n.useState)(null!==c.get("sortBy")?c.get("sortBy"):""),N=Object(u.a)(O,2),v=N[0],T=N[1];Object(n.useEffect)(function(){E("https://mate-academy.github.io/react_people-table/api/people.json").then(function(e){w(e.map(function(e,t){return Object(m.a)({},e,{id:t+1,age:e.died-e.born,century:Math.ceil(e.died/100)})}))})},[]),Object(n.useEffect)(function(){T(c.get("sortBy"))},[c.toString()]),Object(n.useEffect)(function(){d(e.params.person.split("-").join(" "))},[e.params.person]);var C,x=Object(p.a)(y).filter(function(e){return(e.name+e.mother+e.father).toLowerCase().includes(_)});return x.length>0&&x.sort(""===(C=v)?function(){return 1}:"string"===typeof y[0][C]?function(e,t){return e[C].localeCompare(t[C])}:function(e,t){return e[C]-t[C]}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"People table"),r.a.createElement("p",null,"number of currently visible people"," ",x.length),r.a.createElement("input",{placeholder:"type for filtering",type:"text",className:"input input_search-in-table",onClick:function(){g("")},onChange:function(e){c.set("query",e.target.value.trim().toLowerCase()),0===e.target.value.trim().toLowerCase().length&&c.delete("query"),a.push({search:"?".concat(c.toString())}),g(e.target.value.trim().toLowerCase())}}),r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",{className:"PeopleTable__head"},r.a.createElement("tr",{className:"PeopleTable__row"},["id","name","sex","born","died","mother","father","age","century"].map(function(e){return r.a.createElement("th",{key:e,className:"PeopleTable__heading",onClick:function(){"mother"!==e&&"father"!==e&&(c.delete("sortBy"),c.append("sortBy",e),a.push({search:"?".concat(c.toString())}),T(e))}},e)}))),r.a.createElement("tbody",{className:"PeopleTable__body"},x.map(function(e){return r.a.createElement(b,{person:e,key:e.id,selectedPerson:i,setSelectedPerson:d})}))))}),g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{exact:!0,path:"/",component:i}),r.a.createElement(s.a,{path:"/people/:person?",component:_}))};o.a.render(r.a.createElement(l.a,{basename:"/react_people-table"},r.a.createElement(g,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.7647d581.chunk.js.map